<!doctype html>
<html lang="hi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>श्रीमद् भगवद् गीता — ॐ कृष्ण सुझाव</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Libre+Baskerville:ital,wght@0,400;0,700;1,400&family=Noto+Serif+Devanagari:wght@400;600&display=swap');

  :root{
    --saffron:#d89739;
    --maroon:#6a1b1b;
    --gold:#e9c36a;
    --paper:#fbf1df;
    --ink:#2b1d12;
    --soft-shadow: 0 12px 40px rgba(16,10,6,0.35);
  }

  html,body{
    height:100%;
    margin:0;
    background: radial-gradient(circle at 10% 10%, rgba(238,214,168,0.07), transparent 8%),
                linear-gradient(180deg,#0b1220 0%, #1b2330 100%);
    font-family: "Noto Serif Devanagari", "Libre Baskerville", serif;
    color:var(--ink);
    -webkit-font-smoothing:antialiased;
  }

  .stage{
    min-height:100vh;
    display:flex;
    align-items:center;
    justify-content:center;
    padding:36px 20px;
    box-sizing:border-box;
    position:relative;
    overflow:hidden;
  }

  .decor {
    position:absolute;
    inset:0;
    z-index:0;
    pointer-events:none;
  }

  .panel{
    width:100%;
    max-width:920px;
    background: linear-gradient(180deg, rgba(255,249,238,0.98), rgba(255,245,230,0.96));
    border-radius:20px;
    padding:30px 36px;
    box-shadow: var(--soft-shadow), inset 0 1px 0 rgba(255,255,255,0.6);
    border: 6px solid rgba(78,41,10,0.07);
    position:relative;
    z-index:2;
    text-align:center;
  }

  .paper {
    background-image:
      linear-gradient(180deg, rgba(255,255,255,0.02), rgba(0,0,0,0.01)),
      radial-gradient(circle at 10% 20%, rgba(255,235,190,0.035), transparent 6%),
      repeating-linear-gradient(0deg, rgba(0,0,0,0.01) 0px, rgba(0,0,0,0.01) 1px, transparent 1px, transparent 6px);
    border-radius:12px;
    padding:18px;
    box-shadow: inset 0 1px 0 rgba(255,255,255,0.6);
    display:block;
  }

  h1{
    margin:0 0 6px 0;
    font-size:2.1rem;
    color:var(--maroon);
    letter-spacing:0.6px;
    text-shadow: 0 6px 20px rgba(233,195,106,0.08);
    font-weight:700;
  }

  .subtitle{
    margin:0 0 18px 0;
    font-size:0.95rem;
    color:#5a3824;
    opacity:0.95;
  }

  .shloka{
    font-size:1.28rem;
    line-height:1.9;
    color:var(--ink);
    max-width:820px;
    margin:10px auto 6px;
    font-weight:600;
    white-space: pre-line;
  }

  .translit{
    font-size:1.0rem;
    color:#3f2e22;
    margin-top:8px;
  }

  .meaning{
    margin:12px auto 6px;
    max-width:820px;
    text-align:left;
    padding:14px 18px;
    background: linear-gradient(180deg, rgba(255,250,238,0.6), rgba(255,250,238,0.45));
    border-radius:10px;
    border-left:6px solid rgba(216,151,57,0.12);
    box-shadow: 0 8px 26px rgba(10,10,10,0.06);
    font-size:1rem;
    color:#2b1d12;
    line-height:1.7;
  }

  .meaning b{ color:var(--maroon); }

  .controls{
    display:flex;
    justify-content:center;
    margin-top:18px;
  }

  .btn {
    background: linear-gradient(180deg,var(--gold), #d79f4c);
    color:#0b2b2b;
    padding:11px 24px;
    border-radius:999px;
    border:2px solid rgba(99,45,9,0.12);
    font-weight:700;
    cursor:pointer;
    box-shadow: 0 10px 28px rgba(41,19,6,0.18);
    transition: transform .16s ease, box-shadow .16s ease;
    font-size:1rem;
  }
  .btn:hover{ transform: translateY(-3px); box-shadow: 0 16px 36px rgba(41,19,6,0.22); }

  @media (max-width:720px){
    h1 { font-size:1.6rem; }
    .shloka { font-size:1.02rem; }
    .panel{ padding:18px; border-radius:14px; }
    .meaning{ font-size:0.95rem; padding:12px; }
  }
</style>
</head>
<body>
  <div class="stage" id="stage">
    <div class="decor" aria-hidden="true"></div>

    <div class="panel" role="main" aria-labelledby="title">
      <h1 id="title">श्रीमद् भगवद् गीता</h1>
      <div class="subtitle">ॐ — कृष्ण की सुझाववाणी (पारंपरिक सुनहरा स्वर)</div>

      <div class="paper">
        <div id="shlokaText" class="shloka">लोड हो रहा है...</div>
        <div id="translit" class="translit"></div>
        <div id="meaning" class="meaning">
          <p><b>English:</b> —</p>
          <p><b>Hindi:</b> —</p>
        </div>
      </div>

      <div class="controls">
        <button id="krishnaBtn" class="btn">ॐ कृष्ण सुझाव</button>
      </div>
    </div>
  </div>

<script>
const jsonPath = "Bhagwad_Gita.json";
let data = [];
let currentIndex = -1;

async function loadJSON() {
  try {
    const res = await fetch(jsonPath);
    if (!res.ok) throw new Error(res.status + " " + res.statusText);
    data = await res.json();
    if (!Array.isArray(data) || data.length === 0) throw new Error("Empty or invalid JSON.");
    showEntry(randomIndex());
  } catch (err) {
    document.getElementById("shlokaText").textContent = "श्लोक लोड करने में त्रुटि: " + err.message;
    document.getElementById("meaning").innerHTML = "<p><b>English:</b> Please check Bhagwad_Gita.json</p><p><b>Hindi:</b> कृपया Bhagwad_Gita.json फ़ाइल जाँचें।</p>";
  }
}

function randomIndex() {
  return Math.floor(Math.random() * data.length);
}

function showEntry(i) {
  if (!data || !data.length) return;
  const e = data[i] || {};
  const sans = e.sanskrit || e.Shloka || e.Sanskrit || "—";
  const trans = e.transliteration || e.Transliteration || e.translit || "";
  const eng = e.English || e.EngMeaning || e.english || "";
  const hin = e.Hindi || e.HinMeaning || e.hindi || "";

  document.getElementById("shlokaText").textContent = sans;
  document.getElementById("translit").textContent = trans;
  document.getElementById("meaning").innerHTML = `<p><b>English:</b> ${eng || "—"}</p><p><b>Hindi:</b> ${hin || "—"}</p>`;
}

window.addEventListener("load", async () => {
  document.getElementById("krishnaBtn").addEventListener("click", () => {
    showEntry(randomIndex());
  });
  await loadJSON();
});
</script>
</body>
</html>
